!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function i(o,e){this.$element=t(o),this.options=t.extend({},i.DEFAULTS,t.isPlainObject(e)&&e),this.loading=!1,this.init()}var o="qor.publish",e="click."+o,d="shown.bs.modal",n="hidden.bs.modal";i.prototype={constructor:i,init:function(){this.$modal=t(i.MODAL).appendTo("body"),this.bind()},bind:function(){this.$element.on(e,t.proxy(this.click,this)),this.$modal.on(d,function(){t(this).trigger("enable.qor.textviewer")}).on(n,function(){t(this).trigger("disable.qor.textviewer")})},unbind:function(){this.$element.off(e,this.click),this.$modal.off(d).off(n)},click:function(i){var o=this.options,e=t(i.target);if(e.is(o.toggleView)){if(i.preventDefault(),this.loading)return;this.loading=!0,this.$modal.find(".mdl-card__supporting-text").empty().load(e.data("url"),t.proxy(this.show,this))}else e.is(o.toggleCheck)&&(e.prop("disabled")||e.closest("table").find("tbody :checkbox").click())},show:function(){this.loading=!1,this.$modal.qorModal("show")},destroy:function(){this.unbind(),this.$element.removeData(o)}},i.DEFAULTS={toggleView:".qor-action__view",toggleCheck:".qor-action__check-all"},i.MODAL='<div class="qor-modal fade" tabindex="-1" role="dialog" aria-hidden="true"><div class="mdl-card mdl-shadow--2dp" role="document"><div class="mdl-card__title mdl-card--border"><h2 class="mdl-card__title-text">Changes</h2></div><div class="mdl-card__supporting-text"></div><div class="mdl-card__actions mdl-card--border"><a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" data-dismiss="modal">Close</a></div><div class="mdl-card__menu"><button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" data-dismiss="modal" aria-label="close"><i class="material-icons">close</i></button></div></div></div>',i.plugin=function(e){return this.each(function(){var d,n=t(this),s=n.data(o);s||n.data(o,s=new i(this,e)),"string"==typeof e&&t.isFunction(d=s[e])&&d.apply(s)})},t(function(){i.plugin.call(t(".qor-table"))})});