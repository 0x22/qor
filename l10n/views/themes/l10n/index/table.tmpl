{{$context := .}}

<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      {{range $meta := index_metas}}
        <th>{{$meta.Label}}</th>
      {{end}}
      <th>Languages</th>
      <th>Actions</th>
    </thead>

    <tbody>
      {{range $resource := .Result}}
        <tr>
          {{range $index, $meta := index_metas}}
            {{$text := value_of $resource $meta}}
            <td>
              {{if $index}}
                {{$text}}
              {{else}}
                {{link_to $text $resource}}
              {{end}}
            </td>
          {{end}}

          <td>
            <div class="label-group">
              {{range $resource_locale := locales_of_resource $resource $context}}
                <a class="label label-{{if $resource_locale.localized}}primary{{else}}default{{end}}" href="{{url_for $resource}}?locale={{$resource_locale.locale}}">
                  {{$resource_locale.locale}}
                </a>
              {{end}}
            </div>
          </td>

          <td>
            <form action="{{url_for $resource}}" method="POST">
              <input name="_method" value="DELETE" type="hidden">
              <a class="btn btn-xs btn-primary" href="{{url_for $resource}}">Edit</a>
              <button class="btn btn-xs btn-danger" data-confirm="Are you sure?" type="submit">Delete</button>
            </form>
          </td>
        </tr>
      {{end}}
    </tbody>
  </table>
</div>

<style>
  /* move it to css file  */
  .active, .localized {
    font-weight: 700;
  }
</style>
