!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";var i="qor.alert",e="click."+i;t(function(){t(document).on(e,'[data-dismiss="alert"]',function(){t(this).closest(".qor-alert").remove()}),setTimeout(function(){t('.qor-alert[data-dismissible="true"]').remove()},3e3)})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";var i=t(document),e=window.FormData,n="qor.popper",o="click."+n,s="submit."+n,a="show."+n,r="shown."+n,d="hide."+n,l="hidden."+n,c=function(i,e){this.$element=t(i),this.options=t.extend({},c.DEFAULTS,e),this.active=!1,this.disabled=!1,this.animating=!1,this.init()};return c.prototype={constructor:c,init:function(){var i;this.$popper=i=t(c.TEMPLATE).appendTo("body"),this.$title=i.find(".popper-title"),this.$body=i.find(".popper-body"),this.bind()},bind:function(){this.$popper.on(s,"form",t.proxy(this.submit,this)),i.on(o,t.proxy(this.click,this))},unbind:function(){this.$popper.off(s,this.submit),i.off(o,this.click)},click:function(i){var e,n,o,s=this.$element,a=this.$popper.get(0),r=i.target;if(!i.isDefaultPrevented()){for(;r!==document&&(e=!1,n=t(r),r!==a);){if(n.data("url")){i.preventDefault(),o=n.data(),this.load(o.url,o);break}if("popper"===n.data("dismiss")){this.hide();break}if(n.is("tbody > tr")){n.hasClass("active")||(s.find("tbody > tr").removeClass("active"),n.addClass("active"),this.load(n.find(".qor-action-edit").attr("href")));break}if(n.is(".qor-action-new")){i.preventDefault(),s.find("tbody > tr").removeClass("active"),this.load(n.attr("href"));break}if((n.is(".qor-action-edit")||n.is(".qor-action-delete"))&&i.preventDefault(),!r)break;e=!0,r=r.parentNode}e&&(s.find("tbody > tr").removeClass("active"),this.hide())}},submit:function(i){var n=i.target,o=t(n),s=this;e&&(i.preventDefault(),t.ajax(o.prop("action"),{method:o.prop("method"),data:new e(n),processData:!1,contentType:!1,success:function(){var t=o.data("returnUrl");return t?void s.load(t):(s.hide(),void setTimeout(function(){window.location.reload()},350))},error:function(){window.alert(arguments[1]+(arguments[2]||""))}}))},load:function(i,e){var n=this,o=t.isPlainObject(e)?e:{},s=o.method?o.method:"GET",a=function(){t.ajax(i,{method:s,data:o,success:function(i){var e,a;"GET"===s?(e=t(i),a=e.is(".qor-form-container")?e:e.find(".qor-form-container"),a.find(".qor-action-cancel").attr("data-dismiss","popper").removeAttr("href"),n.$title.html(e.find(".qor-title").html()),n.$body.html(a.html()),n.$popper.one(r,function(){t(this).trigger("renew.qor.initiator")}),n.show()):o.returnUrl&&(n.disabled=!1,n.load(o.returnUrl))},complete:function(){n.disabled=!1}})};i&&!this.disabled&&(this.disabled=!0,this.active?(this.hide(),this.$popper.one(l,a)):a())},show:function(){var i,e=this.$popper;this.active||this.animating||(i=t.Event(a),e.trigger(i),i.isDefaultPrevented()||(e.addClass("active").get(0).offsetWidth,e.addClass("in"),this.animating=setTimeout(t.proxy(this.shown,this),350)))},shown:function(){this.active=!0,this.animating=!1,this.$popper.trigger(r)},hide:function(){var i,e=this.$popper;this.active&&!this.animating&&(i=t.Event(d),e.trigger(i),i.isDefaultPrevented()||(e.removeClass("in"),this.animating=setTimeout(t.proxy(this.hidden,this),350)))},hidden:function(){this.active=!1,this.animating=!1,this.$element.find("tbody > tr").removeClass("active"),this.$popper.removeClass("active").trigger(l)},toggle:function(){this.active?this.hide():this.show()},destroy:function(){this.unbind(),this.$element.removeData(n)}},c.DEFAULTS={},c.TEMPLATE='<div class="qor-popper"><div class="popper-dialog"><div class="popper-header"><button type="button" class="popper-close" data-dismiss="popper" aria-div="Close"><span class="md md-24">close</span></button><h3 class="popper-title"></h3></div><div class="popper-body"></div></div></div>',c.plugin=function(i){return this.each(function(){var e=t(this);e.data(n)||e.data(n,new c(this,i))})},t(function(){t(document).on("renew.qor.initiator",function(i){var e=t(".qor-theme-slideout",i.target);e.length&&c.plugin.call(e)}).triggerHandler("renew.qor.initiator")}),c}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function i(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,t.isPlainObject(n)&&n),this.$modal=null,this.built=!1,this.init()}var e="qor.textviewer",n="click."+e;i.prototype={constructor:i,init:function(){this.$element.find(this.options.toggle).each(function(){var e=t(this);this.scrollHeight>e.height()&&e.addClass("active").wrapInner(i.INNER)}),this.bind()},build:function(){this.built||(this.built=!0,this.$modal=t(i.TEMPLATE).modal({show:!1}).appendTo("body"))},bind:function(){this.$element.on(n,this.options.toggle,t.proxy(this.click,this))},unbind:function(){this.$element.off(n,this.click)},click:function(i){var e,n=i.currentTarget,o=t(n);this.built||this.build(),o.hasClass("active")&&(e=this.$modal,e.find(".modal-title").text(o.closest("td").attr("title")),e.find(".modal-body").html(o.html()),e.modal("show"))},destroy:function(){this.unbind(),this.$element.removeData(e)}},i.DEFAULTS={toggle:".qor-list-text"},i.INNER='<div class="text-inner"></div>',i.TEMPLATE='<div class="modal fade qor-list-modal" id="qorListModal" tabindex="-1" role="dialog" aria-labelledby="qorListModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="qorPublishModalLabel"></h4></div><div class="modal-body"></div></div></div></div>',i.plugin=function(n){return this.each(function(){var o,s=t(this),a=s.data(e);if(!a){if(!t.fn.modal)return;s.data(e,a=new i(this,n))}"string"==typeof n&&t.isFunction(o=a[n])&&o.apply(a)})},t(function(){i.plugin.call(t(".qor-list"))})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function i(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,t.isPlainObject(n)&&n),this.submitting=!1,this.init()}var e=window.FormData,n="qor.order",o="change."+n;i.prototype={constructor:i,init:function(){this.$form=this.$element.find("form"),this.bind()},bind:function(){this.$element.on(o,t.proxy(this.change,this))},unbind:function(){this.$element.off(o,this.change)},change:function(i){var n,s,a=this.$element,r=t(i.target),d=this.$form;if(r.is(":checkbox")){switch(r.data("name")){case"toggle.fee":n=d.find('[data-name="adjust.fee"]');break;case"toggle.price":n=d.find('[data-name="adjust.price"]')}return void(r.prop("checked")?n.prop("disabled",!1):n.val(0).trigger(o).prop("disabled",!0))}e&&(s=new e(d[0]),s.append("NoSave",!0),this.submitting&&clearTimeout(this.submitting),this.submitting=setTimeout(function(){t.ajax(d.prop("action"),{method:d.prop("method"),data:s,dataType:"json",processData:!1,contentType:!1,success:function(i){var e;t.isPlainObject(i)&&(e=a.find(".detail-product-list"),e.find('[data-name="fee"]').text(i.ShippingFee),e.find('[data-name="total"]').text(i.Total))},complete:function(){this.submitting=!1}})},500))},destroy:function(){this.unbind(),this.$element.removeData(n)}},i.DEFAULTS={},i.plugin=function(e){return this.each(function(){var o,s=t(this),a=s.data(n);if(!a){if(!t.fn.modal)return;s.data(n,a=new i(this,e))}"string"==typeof e&&t.isFunction(o=a[e])&&o.apply(a)})},t(function(){t(document).on("renew.qor.initiator",function(e){var n=t('[data-toggle="qor.order"]',e.target);n.length&&i.plugin.call(n)}).triggerHandler("renew.qor.initiator")})}),$(function(){"use strict";$(".qor-locale-selector").on("change",function(){var t=$(this).val();t&&window.location.assign(t)}),$(".qor-menu-group").on("click","> ul > li > a",function(){var t=$(this).next();t.is("ul")&&"absolute"!==t.css("position")&&(t.hasClass("collapsable")||t.addClass("collapsable").height(t.prop("scrollHeight")),t.hasClass("collapsed")?(t.height(t.prop("scrollHeight")),setTimeout(function(){t.removeClass("collapsed")},350)):t.addClass("collapsed").height(0))}),$(".qor-search").each(function(){var t=$(this),i=t.find(".qor-search-label"),e=t.find(".qor-search-input"),n=t.find(".qor-search-clear");i.on("click",function(){e.hasClass("focus")||(t.addClass("active"),e.addClass("focus"))}),n.on("click",function(){e.val()?e.val(""):(t.removeClass("active"),e.removeClass("focus"))})}),$.material.init()});