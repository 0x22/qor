{{ $keyword := .Context.Request.URL.Query.Get "keyword" }}

<header class="mdl-layout__header">
  <!-- Tabs -->
  <div class="mdl-layout__tab-bar mdl-js-ripple-effect">
    {{if (gt (len .Result) 1)}}
      <a href="#search-all" class="mdl-layout__tab is-active">{{t "qor_admin.search_center.all" "All"}}</a>
    {{end}}

    {{range .Result}}
      <a href="#search-{{.Resource.ToParam}}" class="mdl-layout__tab" data-resource="{{.Resource.ToParam}}">
        {{t (printf "qor_admin.search_center.%v" .Resource.ToParam) .Resource.Name}}
      </a>
    {{end}}
  </div>
</header>

<form action="{{search_center_path}}" method="GET">
  <input name="keyword" value="{{$keyword}}">
</form>

<main class="mdl-layout__content">
<section class="mdl-layout__tab-panel is-active" id="search-all">
  <div class="page-content">
    {{range .Result}}
      {{if .Results}}
        {{if (len .Results)}}
          <h2>
            {{t (printf "qor_admin.search_center.%v" .Resource.ToParam) .Resource.Name}}
            <a href="{{patch_url (url_for .Resource) "keyword" $keyword}}">{{t "qor_admin.search_center.view_all" "View All"}}</a>
          </h2>

          {{.Context.Render "index/table" .Results}}
        {{end}}
      {{end}}
    {{end}}
  </div>
</section>
</main>
